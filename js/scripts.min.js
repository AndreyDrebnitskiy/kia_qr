/**
 * @author https://github.com/newstreetpunk
 * @editor https://github.com/alexsab
 */
document.addEventListener("DOMContentLoaded",()=>{function e(e){e.style.height="0px",e.addEventListener("transitionend",(function(){e.classList.remove("active")}),{once:!0})}const t=document.querySelectorAll(".add-review__link"),i=document.querySelector(".map"),s=document.querySelector(".map-img"),a=document.querySelector(".map-block");t.forEach(r=>{r.addEventListener("click",n=>{var o,c;n.preventDefault(),function(e,t){const i={google:{samara:"https://g.page/Kiavsamare/review?rc",moscow:"https://g.page/kiasmr/review?rc",mexico:"https://g.page/Kiavsamare-mehzavod/review?rc"},yandex:{samara:"https://yandex.ru/profile/216059659516?intent=reviews",moscow:"https://yandex.ru/profile/1179041515?intent=reviews",mexico:"https://yandex.ru/profile/91221589795?intent=reviews"},gis:{samara:"https://2gis.ru/samara/firm/2533803071703640/tab/reviews",moscow:"https://2gis.ru/samara/firm/70000001019939556/tab/reviews",mexico:"https://2gis.ru/samara/firm/70000001043828289/tab/reviews"}};for(k in delearLinks=document.querySelectorAll(t),i[e])delearLinks.forEach(t=>{t.classList.contains(k)&&t.setAttribute("href",i[e][k])})}(r.getAttribute("data-source"),".dealer-link"),r.classList.contains("active")?(r.classList.remove("active"),e(a),a.addEventListener("transitionend",(function(){i.style.height=0}),{once:!0})):(e(a),t.forEach(e=>{e.classList.remove("active")}),r.classList.add("active"),(c=a).addEventListener("transitionend",(function(){c.classList.add("active")})),setTimeout(()=>{c.style.height=c.scrollHeight+"px",c.closest("#map").style.height=c.scrollHeight+"px"},300),o=".add-review",setTimeout(()=>{document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})},600)),window.addEventListener("resize",()=>{a.classList.contains("active")&&(i.style.height=s.clientWidth+30+"px",a.style.height=s.clientWidth+30+"px")})})})});