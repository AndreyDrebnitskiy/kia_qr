/**
 * @author https://github.com/newstreetpunk
 * @editor https://github.com/alexsab
 */
document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".dealer-link"),t=document.querySelectorAll(".add-review__link"),i=document.querySelector(".map"),s=document.querySelector(".map-block"),a=document.querySelector(".map-img");const r={google:{samara:"https://g.page/Kiavsamare/review?rc",moscow:"https://g.page/kiasmr/review?rc",mexico:"https://g.page/Kiavsamare-mehzavod/review?rc"},yandex:{samara:"https://yandex.ru/profile/216059659516?intent=reviews",moscow:"https://yandex.ru/profile/1179041515?intent=reviews",mexico:"https://yandex.ru/profile/91221589795?intent=reviews"},gis:{samara:"https://2gis.ru/samara/firm/2533803071703640/tab/reviews",moscow:"https://2gis.ru/samara/firm/70000001019939556/tab/reviews",mexico:"https://2gis.ru/samara/firm/70000001043828289/tab/reviews"}};t.forEach(o=>{o.addEventListener("click",c=>{c.preventDefault(),function(t){for(k in r[t])e.forEach(e=>{e.classList.contains(k)&&e.setAttribute("href",r[t][k])})}(o.getAttribute("data-source")),s.style.height="0px",o.classList.contains("active")?(o.classList.remove("active"),s.addEventListener("transitionend",(function(){i.style.height=0}),{once:!0})):(t.forEach(e=>{e.classList.remove("active")}),o.classList.add("active"),setTimeout(()=>{var e;i.style.height=a.clientWidth+30+"px",s.style.height=a.clientWidth+30+"px",e=".add-review",setTimeout(()=>{document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})},300)},300))})}),window.addEventListener("resize",()=>{s.classList.contains("active")&&(i.style.height=a.clientWidth+30+"px",s.style.height=a.clientWidth+30+"px")})});